
@inject NavigationManager NavigationManager
@inject IDialogService Dialog

@inherits  MvvmComponentBase<NavigationViewModel>


<MudNavMenu>
    @if (ViewModel.NavigationItems.Any())
    {
        @foreach (var item in ViewModel.NavigationItems.Skip(0))
        {
            if (item.SubItems.Count > 0)
            {
                <MudNavGroup DisableRipple="true" Expanded="true" HideExpandIcon="true" 
                             Icon="@Icons.Material.Filled.Attractions" Title="@item.Name"
                             @onclick="()=>Navigate(item)">

                    @foreach (var subItem in item.SubItems)
                    {
                        <MudNavLink Icon="@Icons.Material.Filled.Coronavirus" Match="NavLinkMatch.Prefix" 
                                    Href="@subItem.Link">@subItem.Name</MudNavLink>
                    }

                </MudNavGroup>
            }
            else
            {
                <MudNavLink Icon="@Icons.Material.Filled.Coronavirus" Match="NavLinkMatch.Prefix" 
                            Href="@item.Link">@item.Name</MudNavLink>
            }

        }

        
    }
</MudNavMenu>


@code 
{


    private void Navigate(NavigationItem item)
    {
        
        NavigationManager.NavigateTo($"/{item.Link}");
    }

}
